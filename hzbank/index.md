
No. | desc | Flag
:---: | --- | :---:
0. | [客户信息表、合同信息表和还款计划表分别是什么？玩不透老板会怀疑我的能力？](https://zhuanlan.zhihu.com/p/130761566) |
0. | [字节跳动-数据仓库高级工程师面试](https://mp.weixin.qq.com/s/7dHu2QcmU2xvFtGUEp13Fg) |
&nbsp; | detail |
1. | [星型模型和雪花型模型比较](http://blog.csdn.net/nisjlvhudy/article/details/7889422) <br> `星型模型因为数据的冗余所以很多统计查询不需要做外部的连接，因此一般情况下效率比雪花型模型要高` |

> 星形模型加载维度表，不需要再维度之间添加附属模型，因此ETL就相对简单，而且可以实现高度的并行化

No. | desc | Flag
:---: | --- | :---:
2. | [事实表，维度，度量，指标之间的关系](https://blog.csdn.net/zhuwinmin/article/details/54944894) |
3. | [面试必知的Spark SQL几种Join实现](https://database.51cto.com/art/202009/626552.htm) |

## 1. 客户信息表

> 客户信息表中，客户编号是表的主键（唯一值，用于关联其他表），其他数据大部分是标准化的连续变量和分类变量，比如“婚姻状态”、“户籍省”、“家庭子女数”。当然，也会存在类似“id_no"、”mobile“这种非标准化变量，这些变量主要用于欺诈关联分析，贷后催收结果分析。

## 2. 合同信息表

> 当借款客户完成申请全流程，确认借款且审批通过后，金融机构会针对每个借款人生成与之对应的贷款合同。合同信息表里详细记载了客户的贷款信息、贷款用途、放款信息、逾期状态、合同状态、利率。

## 3. 还款计划表

还款计划表严格意义上应该分为 `约定还款` 和 `实际还款` 两部分.

> 一部分是合同生成时就产生了，而另一部分是记录合同结束前客户的实际还款情况。

还款计划表主要包括三大信息：

> 1. **约定还款、实际还款及其他信息**
> 2. 其中约定还款核心字段包括“当前期数”、“计划还款日”、“应还本金”、”应还利息“；
> 3. 实际还款核心字段包括”实际还款日期“、”已还本/利/罚“、“逾期本/利/罚”、“减免本/利/罚”；
> 4. 其他信息则包括“交易状态”、“逾期天数“、”剩余期数“等。

还款计划表记录了客户的还款轨迹，能够直接定性一个客户的好坏，计算逾期率、账龄以及定义建模时的目标变量，这些都需要通过这个表的数据完成。因此，还款计划表是策略迭代、建模、数据分析中最为重要的表。

## power-design

 1. 协议 - 支用申请，签署了支用协议，才产生借据， 借据号 的信息在这里. 
 2. 事件 - 还款，借款
 3. 产品 - 业务流程 ， 只有维度表
 4. 客户 - 用户信息, 非常多, 人行征信信息， 个人资产信息
 5. 机构 - 线下有哪些团队, 浙江区，团队长，客户经理， 有 600 个. 只有维度表
 
> (1). 同业借款, 100多亿
> 
> (2). 放贷款 - 京东，百度
> 
> (3). 签协议 产生 产品

营销之后的，商务经理和渠道，谈下来之后， 后端 渠道， 资产， 账务

产品维度表： 产品编号(分好几级), 产品名称, dim\_code, dim\_name， 上架， 下架
                            京东金条， code， 展示给财务

**事件主题** - 还款流水, 授信流水, 支用流水, 放款流水, 还款计划. 在后端资产的模块.  

**DWD - 这些流水表都在这层.** 

(1). 授信支用后，就会产生借据号

还款事实表 - 借据号(可以关联到用户和产品), 还款流水号, 还款金额(本金，利息，手续费), user\_id, product\_id, custom\_id

是在 DWD， 是根据流水表关联出来的

> 下游可能看，借据粒度，还了多少钱， 聚合
>
> 每天拉昨天新增的流水
>
> 很多问题是上游数据的问题，还有需求的问题

