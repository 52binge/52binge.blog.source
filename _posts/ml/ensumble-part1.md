---
title: Ensumble é›†æˆå­¦ä¹ å°è®°
toc: true
date: 2018-07-03 17:43:21
categories: machine-learning
tags: [Ensumble]
---

æœ¬æ–‡ä¸»è¦åŸºäºå‘¨å¿—åã€Šæœºå™¨å­¦ä¹ ã€‹ä¸€ä¹¦ç¬¬å…«ç«  é›†æˆå­¦ä¹ å†…å®¹åšçš„æ•´ç†ç¬”è®°ï¼Œæ­¤å¤–æŸ¥é˜…äº†ç½‘ä¸Šçš„ä¸€äº›åšå®¢å’Œé—®ç­”ç½‘ç«™

<!-- more -->

## 1. Ensumble æ¦‚å¿µ

Ensumble æ˜¯é€šè¿‡æ„å»ºå¹¶ç»“åˆå¤šä¸ª`å­¦ä¹ å™¨`æ¥å®Œæˆå­¦ä¹ ä»»åŠ¡ã€‚

> æ›¾ç»å¬è¿‡ä¸€å¥è¯ï¼Œâ€Featureä¸ºä¸»ï¼ŒEnsembleä¸ºåâ€ã€‚

Feature å†³å®šäº†æ¨¡å‹æ•ˆæœçš„ä¸Šé™ï¼Œè€Œ Ensemble å°±æ˜¯è®©ä½ æ›´æ¥è¿‘è¿™ä¸ªä¸Šé™ã€‚

> Ensemble è®²ç©¶â€œå¥½è€Œä¸åŒâ€ï¼Œä¸åŒæ˜¯æŒ‡æ¨¡å‹çš„å­¦ä¹ åˆ°çš„ä¾§é‡é¢ä¸ä¸€æ ·ã€‚
>
> ä¸¾ä¸ªç›´è§‚çš„ä¾‹å­ï¼Œæ¯”å¦‚æ•°å­¦è€ƒè¯•ï¼ŒAçš„å‡½æ•°é¢˜åšçš„æ¯”Bå¥½ï¼ŒBçš„å‡ ä½•é¢˜åšçš„æ¯”Aå¥½ï¼Œé‚£ä¹ˆä»–ä»¬åˆä½œå®Œæˆçš„åˆ†æ•°é€šå¸¸æ¯”ä»–ä»¬å„è‡ªå•ç‹¬å®Œæˆçš„è¦é«˜ã€‚

> å¸¸è§çš„Ensembleæ–¹æ³•æœ‰Baggingã€Boostingã€Stackingã€Blending.
> 
> Notes:  Stacking ä¸ Blending ç±»ä¼¼ï¼Œ[åŒºåˆ«å¯å‚è§][1]

**ensumble ä¸­çš„ å¥½è€Œä¸åŒ**

> å¦‚ä½•ä½¿å¾—é›†æˆå­¦ä¹ æ€§èƒ½æ¯”æœ€å¥½çš„å•ä¸€å­¦ä¹ å™¨æ›´å¥½ï¼Ÿ
>
> - å‡†ç¡®æ€§
> - å¤šæ ·æ€§
>
> å¥½è€Œä¸åŒ
> 
> å¦‚ä½•äº§ç”Ÿå¹¶ç»“åˆ â€œå¥½è€Œä¸åŒâ€ çš„ä¸ªä½“å­¦ä¹ å™¨ ?

é›†æˆå­¦ä¹ ç ”ç©¶çš„æ ¸å¿ƒ, å½“å‰æŒ‰ç…§ä¸ªä½“å­¦ä¹ å™¨çš„ç”Ÿæˆæ–¹å¼åˆ’åˆ†:

> baggingï¼ˆåŠå…¶å˜ä½“éšæœºæ£®æ—ï¼‰â€” ä¸ªä½“å­¦ä¹ å™¨é—´ä¸å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå¯åŒæ—¶ç”Ÿæˆçš„å¹¶è¡ŒåŒ–æ–¹æ³•
> boosting - ä¸ªä½“å­¦ä¹ å™¨é—´å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œå¿…é¡»ä¸²è¡Œç”Ÿæˆçš„åºåˆ—åŒ–æ–¹æ³•

ä»åå·®-æ–¹å·®åˆ†è§£çš„è§’åº¦: 

> bagging å…³æ³¨é™ä½æ–¹å·®
> boosting å…³æ³¨é™ä½åå·®

ä¹Ÿå¯ä»¥æŒ‰ç…§æœºå™¨å­¦ä¹ æŠ€æ³•çš„ä¸¤å¼ å›¾æ¥ç†è§£

{% image "/images/ml/ensumble/under_over.png", width="750px" %}

ç¬¬ä¸€å¹…å›¾(å¯¹åº”boosting)å¯çœ‹ä½œè¿›è¡Œäº†ä¸€ä¸ªç‰¹å¾è½¬æ¢æ¥é˜²æ­¢æ¬ æ‹Ÿåˆï¼Œç¬¬äºŒå¹…å›¾(å¯¹åº”bagging)åˆ™è¿›è¡Œäº†ä¸€ä¸ªæ­£åˆ™åŒ–æ¥é˜²æ­¢è¿‡æ‹Ÿåˆ

## 2. Boosting

> é¦–å…ˆä»åˆå§‹è®­ç»ƒé›†è®­ç»ƒå‡ºä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼Œå†æ ¹æ®åŸºå­¦ä¹ å™¨çš„è¡¨ç°å¯¹è®­ç»ƒæ ·æœ¬åˆ†å¸ƒè¿›è¡Œè°ƒæ•´ï¼Œä½¿å¾—å…ˆå‰åŸºå­¦ä¹ å™¨åšé”™çš„è®­ç»ƒæ ·æœ¬åœ¨åç»­å—åˆ°æ›´å¤šçš„å…³æ³¨ï¼Œç„¶ååŸºäºè°ƒæ•´åçš„æ ·æœ¬åˆ†å¸ƒæ¥è®­ç»ƒä¸‹ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼›å¦‚æ­¤é‡å¤è¿›è¡Œï¼Œç›´è‡³åŸºå­¦ä¹ å™¨æ•°ç›®è¾¾åˆ°äº‹å…ˆæŒ‡å®šçš„å€¼T,æœ€ç»ˆå°†è¿™Tä¸ªåŸºå­¦ä¹ å™¨è¿›è¡ŒåŠ æƒç»„åˆ.

### 2.1 adaboost

> æ¨å¯¼æ–¹å¼ï¼ŒåŸºäºâ€œåŠ æ€§æ¨¡å‹â€ï¼Œå³åŸºäºåŸºå­¦ä¹ å™¨çš„çº¿æ€§ç»„åˆ
> å¦‚ä½•åœ¨æ¯ä¸€è½®ä¿®æ”¹æ ·æœ¬åˆ†å¸ƒ
> - é‡èµ‹æƒæ³•ï¼šåœ¨æ¯ä¸€è½®è®­ç»ƒä¸­ï¼Œæ ¹æ®æ ·æœ¬åˆ†å¸ƒä¸ºæ¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬é‡æ–°èµ‹äºˆä¸€ä¸ªæƒé‡ï¼ˆæ¯”å¦‚ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹ä¸€ä¹¦ä¸­å°±æ˜¯åˆ©ç”¨è¿™ç§æ–¹æ³•æ„å»ºæå‡æ ‘ç®—æ³•ï¼Œé€šè¿‡ä¿®æ”¹æƒé‡æ¥è®¡ç®—æ¯ä¸€è½®çš„æŸå¤±ï¼‰
> - é‡é‡‡æ ·æ³•ï¼šåˆ©ç”¨é‡é‡‡æ ·çš„è®­ç»ƒé›†æ¥å¯¹åŸºå­¦ä¹ å™¨è¿›è¡Œè®­ç»ƒâ€“>é‡å¯åŠ¨ï¼šé¿å…è®­ç»ƒè¿‡ç¨‹è¿‡æ—©åœæ­¢
 
Notes:

> è¥¿ç“œä¹¦ä¸Šçš„ç®—æ³•è¿˜æåˆ°è®­ç»ƒçš„æ¯ä¸€è½®å¼€å§‹éƒ½è¦æ£€æŸ¥å½“å‰å­¦ä¹ å™¨æ˜¯å¦æ¯”éšæœºçŒœæµ‹å¥½ï¼Œè‹¥æ¡ä»¶ä¸æ»¡è¶³åˆ™æŠ›å¼ƒå½“å‰å­¦ä¹ å™¨ï¼Œè¿™ç§æƒ…å½¢å¯èƒ½ä¼šå¯¼è‡´å­¦ä¹ è¿‡ç¨‹æœªè¾¾åˆ°Tè½®å³åœæ­¢ï¼Œæ‰€ä»¥æœ‰é‡é‡‡æ ·çš„æ–¹æ³•æ¥è¿›è¡Œé‡å¯åŠ¨é¿å…å‡ºç°æ­¤ç§æƒ…å†µï¼›ä½†æ˜¯å¦ä¸€æ–¹é¢ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ä»¥åŠã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹ä¸­çš„ç®—æ³•å¹¶æœªæœ‰è¿™æ¡åˆ¤æ–­è¯­å¥ï¼›
> 
> ã€Šæœºå™¨å­¦ä¹ ã€‹ä¸€ä¹¦ä¸­æåˆ°ï¼Œä»ç»Ÿè®¡å­¦çš„å‡ºå‘è®¤ä¸ºAdaBoostå®è´¨ä¸Šæ˜¯åŸºäºåŠ æ€§æ¨¡å‹ï¼ˆåç»­æŒ‡å‡ºè¿™ä¸€è§†è§’é˜é‡Šçš„æ˜¯ä¸€ä¸ªä¸AdaBoostå¾ˆç›¸ä¼¼çš„è¿‡ç¨‹è€Œéå…¶æœ¬èº«ï¼‰ï¼Œä»¥ç±»ä¼¼ç‰›é¡¿è¿­ä»£æ³•æ¥ä¼˜åŒ–æŒ‡æ•°æŸå¤±å‡½æ•°ï¼Œé€šè¿‡å°†è¿­ä»£ä¼˜åŒ–è¿‡ç¨‹æ›¿æ¢ä¸ºå…¶ä»–ä¼˜åŒ–æ–¹æ³•äº§ç”Ÿäº†GradientBoostingã€LPBoostç­‰ï¼›è€Œè¿™é‡Œä¹Ÿæåˆ°æ¯ä¸€ç§å˜ä½“é’ˆå¯¹ä¸åŒçš„é—®é¢˜ï¼ˆå™ªå£°ã€æ•°æ®ä¸å¹³è¡¡ç­‰ï¼‰è€Œæ‹¥æœ‰ä¸åŒçš„æƒé‡æ›´æ–°è§„åˆ™.

### 2.2 ç‰¹ç‚¹

> ä»bias-varianceåˆ†è§£çš„è§’åº¦æ¥çœ‹ï¼ŒBoostingä¸»è¦å…³æ³¨é™ä½ biasï¼Œå› æ­¤Boostingèƒ½åŸºäºæ³›åŒ–æ€§èƒ½ç›¸å½“å¼±çš„å­¦ä¹ å™¨æ„å»ºå‡ºå¾ˆå¼ºçš„é›†æˆï¼ˆä¸baggingä¸åŒï¼‰

Notes: boosting å¯¹äºå™ªéŸ³æ•°æ®è¾ƒä¸ºæ•æ„Ÿ

## 3. Bagging (Bootstrap aggregating )

å‡ºå‘ç‚¹ä¾ç„¶æ˜¯â€œå¥½è€Œä¸åŒâ€

> - â€œä¸åŒâ€ â€” ä¸åŒåŸºå­¦ä¹ å™¨åŸºäºä¸åŒçš„æ ·æœ¬å­é›†
> - â€œå¥½â€ â€” ä½¿ç”¨ç›¸äº’æœ‰äº¤å çš„é‡‡æ ·å­é›†

### 3.1 å·¥ä½œæœºåˆ¶

åŸºäºè‡ªåŠ©é‡‡æ ·æ³•ï¼ˆbootstrap samplingï¼‰â€” â€œæœ‰æ”¾å›åœ°å…¨æŠ½â€

> ä»è®­ç»ƒé›†ä»è¿›è¡Œ**å­æŠ½æ ·ç»„æˆæ¯ä¸ªåŸºæ¨¡å‹æ‰€éœ€è¦çš„å­è®­ç»ƒé›†**ï¼Œå¯¹æ‰€æœ‰åŸºæ¨¡å‹é¢„æµ‹çš„ç»“æœè¿›è¡Œç»¼åˆäº§ç”Ÿæœ€ç»ˆçš„é¢„æµ‹ç»“æœ,è‡³äºä¸ºä»€ä¹ˆå«bootstrap aggregationï¼Œå› ä¸ºå®ƒæŠ½å–è®­ç»ƒæ ·æœ¬çš„æ—¶å€™é‡‡ç”¨çš„å°±æ˜¯bootstrapçš„æ–¹æ³•ï¼

### 3.2 ä¼˜ç‚¹ï¼ˆç›¸å¯¹äºboostingï¼‰

- é«˜æ•ˆ - è®­ç»ƒä¸€ä¸ªbaggingé›†æˆä¸ç›´æ¥ä½¿ç”¨åŸºå­¦ä¹ å™¨ç®—æ³•è®­ç»ƒä¸€ä¸ªå­¦ä¹ å™¨çš„å¤æ‚åº¦åŒé˜¶
- baggignèƒ½ä¸ç»ä¿®æ”¹åœ°ç”¨äºå¤šåˆ†ç±»ã€å›å½’ä»»åŠ¡ï¼ˆæ ‡å‡†AdaBoostingåªèƒ½é€‚ç”¨äºäºŒåˆ†ç±»ä»»åŠ¡ï¼‰
- åŒ…å¤–ä¼°è®¡â€”â€”è‡ªåŠ©é‡‡æ ·è¿‡ç¨‹ä¸­å‰©ä½™çš„æ ·æœ¬å¯ä»¥ä½œä¸ºéªŒè¯é›†æ¥å¯¹æ³›åŒ–æ€§èƒ½è¿›è¡Œâ€œåŒ…å¤–ä¼°è®¡â€

### 3.3 ç‰¹ç‚¹

> ä»åå·®-æ–¹å·®è§’åº¦çœ‹ï¼ŒBaggingä¸»è¦å…³æ³¨é™ä½æ–¹å·®ï¼Œå› æ­¤å®ƒåœ¨ä¸å‰ªæå†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œç­‰æ˜“å—æ ·æœ¬æ‰°åŠ¨çš„å­¦ä¹ å™¨ä¸Šæ•ˆç”¨æ˜æ˜¾.

## 4. Random Forest éšæœºæ£®æ—

Bagging çš„ä¸€ä¸ªæ‰©å±•å˜ä½“

### 4.1 æ¦‚è¿°

- ä»¥å†³ç­–æ ‘ä¸ºåŸºå­¦ä¹ å™¨æ„å»ºBaggingé›†æˆ
- åœ¨å†³ç­–æ ‘çš„è®­ç»ƒè¿‡ç¨‹ä¸­å¼•å…¥äº†éšæœºå±æ€§é€‰æ‹©

> ä¼ ç»Ÿå†³ç­–æ ‘åœ¨é€‰æ‹©åˆ’åˆ†å±æ€§æ—¶æ˜¯åœ¨å½“å‰ç»“ç‚¹çš„å±æ€§é›†åˆä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜å±æ€§ï¼›è€Œåœ¨éšæœºæ£®æ—ä¸­ï¼Œå¯¹åŸºå†³ç­–æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œ**å…ˆä»è¯¥èŠ‚ç‚¹å±æ€§é›†åˆä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŒ…å«kä¸ªå±æ€§çš„å­é›†**ï¼Œç„¶åå†ä»è¿™ä¸ªå­é›†ä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜å±æ€§ç”¨äºåˆ’åˆ†ï¼Œå…¶ä¸­`k`æ§åˆ¶äº†éšæœºæ€§çš„å¼•å…¥ç¨‹åº¦

### 4.2 ç‰¹ç‚¹

> - ç®€å•ã€æ˜“äºå®ç°ã€è®¡ç®—å¼€é”€å°
> - æ ·æœ¬æ‰°åŠ¨+å±æ€§æ‰°åŠ¨

### 4.3 bagging vs. éšæœºæ£®æ—

- ä¸¤è€…æ”¶æ•›æ€§ç›¸ä¼¼ï¼Œéšæœºæ£®æ—çš„èµ·å§‹æ€§èƒ½å¾€å¾€ç›¸å¯¹è¾ƒå·®ï¼Œä½†ä¼šæ”¶æ•›åˆ°æ›´ä½çš„æ³›åŒ–è¯¯å·®
- éšæœºæ£®æ—çš„è®­ç»ƒæ•ˆç‡å¸¸ä¼˜äºBaggingï¼Œä¸»è¦æ˜¯å†³ç­–æ ‘åˆ’åˆ†å±æ€§æ—¶ï¼ŒåŸå§‹bagginéœ€è¦å¯¹å±æ€§å…¨é›†è¿›è¡Œè€ƒè™‘ï¼Œè€Œ **RF** æ˜¯é’ˆå¯¹ä¸€ä¸ªå­é›†

## 5. ç»“åˆç­–ç•¥

### 5.1 å­¦ä¹ å™¨ç»“åˆçš„å¥½å¤„

> - ç»Ÿè®¡çš„è§’åº¦ï¼šå‡è®¾ç©ºé—´å¾ˆå¤§æ—¶ï¼Œå¯èƒ½å­˜åœ¨å¤šä¸ªå‡è®¾åœ¨è®­ç»ƒé›†ä¸Šè¾¾åˆ°åŒç­‰æ€§èƒ½ï¼Œä½†å­¦ä¹ å…¶å¯èƒ½è¯¯é€‰å¯¼è‡´æ³›åŒ–æ€§èƒ½ä¸ä½³ï¼Œç»“åˆå¤šä¸ªå­¦ä¹ å™¨å¯ä»¥å‡å°è¯¥é£é™©
> - è®¡ç®—çš„è§’åº¦ï¼šé™ä½é™·å…¥ç³Ÿç³•å±€éƒ¨æå°ç‚¹çš„é£é™©
> - è¡¨ç¤ºçš„è§’åº¦ï¼šç»“åˆå¤šä¸ªå­¦ä¹ å™¨å¯æ‰©å¤§å‡è®¾ç©ºé—´ï¼Œå¯¹äºçœŸå®å‡è®¾åœ¨å‡è®¾ç©ºé—´ä¹‹å¤–çš„æƒ…å½¢å¯èƒ½å­¦å¾—æ›´å¥½çš„è¿‘ä¼¼

### 5.2 ç­–ç•¥

**å¹³å‡æ³•(Averaging)**

> - ç®€å•å¹³å‡æ³•
> - åŠ æƒå¹³å‡æ³•

**æŠ•ç¥¨æ³•(Voting)**

> - å¤šæ•°æŠ•ç¥¨æ³•
> - åŠ æƒæŠ•ç¥¨æ³•
> - è‹¥æŒ‰ä¸ªä½“å­¦ä¹ å™¨è¾“å‡ºå€¼ç±»å‹åˆ’åˆ† (ç¡¬æŠ•ç¥¨ï¼šé¢„æµ‹ä¸º0/1 | è½¯æŠ•ç¥¨ï¼šç›¸å½“äºå¯¹åéªŒæ¦‚ç‡çš„ä¸€ä¸ªä¼°è®¡)

**å­¦ä¹ æ³•**

> Stacking:å…ˆä»åˆå§‹æ•°æ®é›†è®­ç»ƒå‡ºåˆçº§å­¦ä¹ å™¨ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®é›†ç”¨äºè®­ç»ƒå…ƒå­¦ä¹ å™¨ï¼Œåœ¨è¿™ä¸ªæ–°æ•°æ®é›†ä¸­ï¼Œåˆçº§å­¦ä¹ å™¨çš„è¾“å‡ºè¢«å½“ä½œæ ·ä¾‹è¾“å…¥ç‰¹å¾ï¼Œè€Œåˆå§‹æ ·æœ¬çš„æ ‡è®°ä»è¢«å½“ä½œæ ·ä¾‹æ ‡è®°ï¼›ä¸€èˆ¬ä½¿ç”¨äº¤å‰éªŒè¯æ³•æˆ–ç•™ä¸€æ³•æ¥ç”¨è®­ç»ƒåˆçº§å­¦ä¹ å™¨æœªä½¿ç”¨çš„æ ·æœ¬æ¥äº§ç”Ÿå…ƒå­¦ä¹ å™¨çš„è®­ç»ƒæ ·æœ¬

**Notes**: å…³äºStacking

> -ã€Šæœºå™¨å­¦ä¹ ã€‹ä½œè€…ä¹ŸæŒ‡å‡ºStackingæœ¬èº«æ˜¯ä¸€ç§è‘—åçš„é›†æˆæ–¹æ³•ï¼Œä¸”æœ‰ä¸å°‘å˜ä½“å’Œç‰¹ä¾‹ï¼Œä½†ä»–è¿™é‡Œæ˜¯ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„ç»“åˆç­–ç•¥çœ‹å¾…
> - å…³äºStackingçš„ç»†èŠ‚è¯¦è¿°ï¼Œ[å¦‚ä½•åœ¨ Kaggle é¦–æˆ˜ä¸­è¿›å…¥å‰ 10%][4] ä»¥ä¸€å¹…å›¾æ¥è¯´è¯´æ˜5æŠ˜Stackingçš„è¿‡ç¨‹
> - æ¨èä¸€ä¸ªPythonçš„å®ç°äº†Stackingé›†æˆçš„åº“mlxtend

{% image "/images/ml/ensumble/stacking-1.jpg", width="800px" %}

åŸä½œè€…ä¸¾äº†ä¸€ä¸ª5æŠ˜stackingçš„ä¾‹å­ï¼ŒåŸºæœ¬æ–¹æ³•æ˜¯ï¼Œ

- æ¯ä¸€æŠ˜å–è®­ç»ƒé›†80%çš„æ•°æ®è®­ç»ƒä¸€ä¸ªåŸºæ¨¡å‹å¹¶å¯¹å‰©ä¸‹çš„20%çš„æ•°æ®è¿›è¡Œé¢„æµ‹ï¼ŒåŒæ—¶å°†è¯¥æ¨¡å‹å¯¹æµ‹è¯•é›†åšå‡ºé¢„æµ‹ï¼Œä¿ç•™è®­ç»ƒå­é›†çš„é¢„æµ‹ç»“æœå’Œæµ‹è¯•é›†çš„é¢„æµ‹ç»“æœ
- å°†5æŠ˜çš„è®­ç»ƒå­é›†é¢„æµ‹ç»“æœç»“åˆèµ·æ¥æ„æˆç¬¬äºŒå±‚å…ƒæ¨¡å‹çš„è¾“å…¥ç‰¹å¾è¿›è¡Œè®­ç»ƒå¾—åˆ°å…ƒåˆ†ç±»å™¨
- å°†å‰é¢æ¯ä¸€æŠ˜åœ¨æµ‹è¯•é›†é¢„æµ‹å¾—åˆ°çš„ç»“æœå–å‡å€¼ä½œä¸ºæœ€ç»ˆå…ƒåˆ†ç±»å™¨çš„é¢„æµ‹è¾“å…¥(æœ€ç»ˆçš„æµ‹è¯•æ•°æ®)ï¼Œå¹¶ä½¿ç”¨è®­ç»ƒå¥½çš„å…ƒåˆ†ç±»å™¨åœ¨è¯¥æ•°æ®ä¸Šä½œå‡ºæœ€ç»ˆé¢„æµ‹


æ­¤å¤–[çŸ¥ä¹ä¸Šçš„ä¸€ç¯‡æ–‡ç« è¿˜æåˆ°][zhihu1]

> å¯ä»¥å°†Kä¸ªæ¨¡å‹å¯¹Test Dataçš„é¢„æµ‹ç»“æœæ±‚å¹³å‡ï¼Œä¹Ÿå¯ä»¥ç”¨æ‰€æœ‰çš„Train Dataé‡æ–°è®­ç»ƒä¸€ä¸ªæ–°æ¨¡å‹æ¥é¢„æµ‹Test Data

## 6. å¤šæ ·æ€§

### 6.1 è¯¯å·®-åˆ†æ­§åˆ†è§£

- é›†æˆå­¦ä¹ â€œå¥½è€Œä¸åŒâ€çš„ç†è®ºåˆ†æï¼Œè§ã€Šæœºå™¨å­¦ä¹ ã€‹P185~186
- å¯»æ‰¾ é›†æˆæ³›åŒ–è¯¯å·®ã€ä¸ªä½“å­¦ä¹ å™¨æ³›åŒ–è¯¯å·®ã€ä¸ªä½“å­¦ä¹ å™¨é—´ çš„åˆ†æ­§ä¸‰è€…ä¹‹é—´çš„å…³ç³»

### 6.2 å¤šæ ·æ€§åº¦é‡

> å¤šæ ·æ€§åº¦é‡æ˜¯ç”¨äºåº¦é‡é›†æˆä¸­ä¸ªä½“åˆ†ç±»å™¨çš„å¤šæ ·æ€§ï¼Œå³ä¼°ç®—ä¸ªä½“å­¦ä¹ å™¨çš„å¤šæ ·åŒ–ç¨‹åº¦ï¼Œå…¸å‹åšæ³•æ˜¯è€ƒè™‘ä¸ªä½“åˆ†ç±»å™¨çš„ä¸¤ä¸¤ç›¸ä¼¼/ä¸ç›¸ä¼¼æ€§

> åº¦é‡æ–¹æ³• {ä¸åˆåº¦é‡ã€ç›¸å…³ç³»æ•°ã€Q-ç»Ÿè®¡é‡ã€k-ç»Ÿè®¡é‡} 
> 
> Notes: ç›®å‰æˆ‘è¿˜æ²¡æœ‰åšè¿‡è¿™ç§ç±»ä¼¼æµ‹è¯• ğŸ˜¢

### 6.3 å¤šæ ·æ€§å¢å¼º

å¦‚ä½•å¢å¼ºå¤šæ ·æ€§ï¼Ÿâ€” åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¼•å…¥éšæœºæ€§

1. æ•°æ®æ ·æœ¬æ‰°åŠ¨
2. è¾“å…¥å±æ€§æ‰°åŠ¨
3. è¾“å‡ºè¡¨ç¤ºæ‰°åŠ¨
4. ç®—æ³•å‚æ•°æ‰°åŠ¨

**æ•°æ®æ ·æœ¬æ‰°åŠ¨**

> ç»™å®šåˆå§‹æ•°æ®é›†ï¼Œå¯ä»ä¸­äº§ç”Ÿä¸åŒçš„æ•°æ®å­é›†ï¼Œå†åˆ©ç”¨ä¸åŒçš„æ•°æ®å­é›†è®­ç»ƒå‡ºä¸åŒçš„ä¸ªä½“å­¦ä¹ å™¨ï¼Œé€šå¸¸åŸºäºé‡‡æ ·æ³•

**è¾“å…¥å±æ€§æ‰°åŠ¨**

> ä»åˆå§‹å±æ€§é›†ä¸­æŠ½å–è‹¥å¹²ä¸ªå±æ€§å­é›†ã€åŸºäºæ¯ä¸ªå±æ€§å­é›†è®­ç»ƒä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼ˆå¦‚éšæœºå­ç©ºé—´ç®—æ³•ï¼‰ï¼Œæœ€åç»“åˆ

**ç®—æ³•å‚æ•°æ‰°åŠ¨**

é€šå¸¸å¯ä»¥é€šè¿‡éšæœºè®¾ç½®ä¸åŒçš„å‚æ•°ï¼Œä»è€Œäº§ç”Ÿå·®åˆ«è¾ƒå¤§çš„ä¸ªä½“å­¦ä¹ å™¨ã€‚

**Notes:**

> - æ•°æ®æ ·æœ¬æ‰°åŠ¨ä¸­ç›¸å¯¹çš„ç¨³å®šåŸºå­¦ä¹ å™¨åŒ…æ‹¬ï¼šçº¿æ€§å­¦ä¹ å™¨ã€æ”¯æŒå‘é‡æœºã€æœ´ç´ è´å¶æ–¯ã€kè¿‘é‚»å­¦ä¹ å™¨ç­‰
> 
> - è¾“å…¥å±æ€§æ‰°åŠ¨ : æ„Ÿè§‰å…¸å‹çš„æ˜¯ Random Forest å°±åšäº†è¿™ä»¶äº‹.
> 
> - å¯¹äºç®—æ³•å‚æ•°æ‰°åŠ¨ï¼Œä¸äº¤å‰éªŒè¯åšæ¯”è¾ƒï¼Œäº¤å‰éªŒè¯å¸¸å¸¸æ˜¯åœ¨ä¸åŒå‚æ•°ç»„åˆæ¨¡å‹é‡Œé€‰æ‹©æœ€ä¼˜å‚æ•°ç»„åˆæ¨¡å‹ï¼Œè€Œé›†æˆåˆ™æ˜¯å°†è¿™äº›ä¸åŒå‚æ•°ç»„åˆçš„æ¨¡å‹ç»“åˆèµ·æ¥ï¼Œæ‰€ä»¥é›†æˆå­¦ä¹ æŠ€æœ¯çš„å®é™…è®¡ç®—å¼€é”€å¹¶ä¸æ¯”ä½¿ç”¨å•ä¸€å­¦ä¹ å™¨å¤§å¾ˆå¤š


[zhihu1]: https://zhuanlan.zhihu.com/p/27424282


[img1]: /images/ml/ensumble/under_over.png
[img2]: /images/ml/ensumble/stacking-1.jpg

## Reference article

- å‘¨å¿—åã€Šæœºå™¨å­¦ä¹ ã€‹
- [kaggle-ensembling-guide][1]
- [Bagging, Boosting & Stacking][2]
- [stackexchangeåŠè¯„è®ºåŒº][3]
- [å¦‚ä½•åœ¨ Kaggle é¦–æˆ˜ä¸­è¿›å…¥å‰ 10%][4]
- [åˆ†åˆ†é’Ÿå¸¦ä½ æ€å…¥Kaggle Top 1%][5]
- [æ‡’æ­»éª†é©¼][6]
- æœºå™¨å­¦ä¹ æŠ€æ³•

[1]: https://mlwave.com/kaggle-ensembling-guide/
[2]: https://www.quora.com/What-are-the-differences-between-the-three-commonly-ensemble-learning-techniques-stacking-boosting-and-bagging
[3]: https://stats.stackexchange.com/questions/18891/bagging-boosting-and-stacking-in-machine-learning/19053#19053
[4]: https://dnc1994.com/2016/04/rank-10-percent-in-first-kaggle-competition/
[5]: https://zhuanlan.zhihu.com/p/27424282
[6]: http://izhaoyi.top/2017/07/03/ensemble/