---
title: DataWare 维度设计
date: 2018-06-09 17:11:21
categories: [data-warehouse]
tags: DataWare
---

<!--<img src="/images/dataware/dataware-1.png" width="550" alt="Tech Stack" />

<img src="/images/dataware/dataware-2.jpg" width="550" alt="Tech Stack" />
-->
<img src="/images/dataware/dataware-4.jpeg" width="550" alt="Tech Stack" />

<!-- more -->

## 1. 维度设计基础

维度建模用到的11大专业术语：

数据域、业务过程、时间周期、修饰类型、修饰词、度量/原子指标、维度、维度属性、 事实、派生指标、钻取。

### 1.1 维度的基本概念

代理键, 自然键

### 1.2 维度的基本设计方法

数据仓库的能力直接与维度属性 的质量和深度成正比。


淘宝的商品维度:

> 1. 选择维度或新建维度。DataWare 必须保证维度的唯一性。
> 2. 第二步:确定主维表。此处的主维表一般是 ODS 表，直接与业务 系统同步。
> 3. 确定相关维表。数据仓库是业务源系统的数据整合，不同
> 4. 确定维度属性

业务系统或者同 一业务系统中的表之间存在 关联性。

以淘宝商品维度为例，根据对业务逻辑的梳理，可以得到商品与类目、 SPU、 卖家、店铺等维度存在关联关系。

### 1.3 维度的层次结构

### 1.4 规范化和反规范化

### 1.5 一致性维度和交叉探查

数据仓库总线架构的重要基石之一就是一致性维度。

在针对不同数 据域进行迭代构建或并行构建时，存在很多需求是对于不同数据域的业 务过程或者同 一数据域的不同业务过程合并在 一起观察。

> - 日志数据域，统计了商品维度的最近一天的 PV 和 UV; 
>
> - 交易数据域， 统计了 商品维度的最近一天 的下单 GMV。

总结维度一致性的几种 表现形式:

> - 共享维表  (公共维度)
> - 一致性上卷  (1 dim 是另一dim 子集)
> - 交叉属性  （部分相同维度）

## 2. 维度设计高级主题

### 2.1 维度整合

我们先来看数据仓库的定义:

> 数据仓库是一个面向主题的、`集成的`、 非易失的且随时间变化的数据集合，用来支持管理人员的决策。
>
> 数据仓库的重要数据来源是 `大量的、分散的` 面向应用的操作型环境。

**应用 -> 主题 （数据集成）**

> 所以数据由面向应用的操作型环境进人数据仓库后，需要进行数据集成。
> 
> 将面向应用的数据转换为面向主题的数据仓库数据，本身就是一种集成。

<!--### 2.2 水平拆分

### 2.2 垂直拆分

### 2.3 历史归档

## 3. 维度变化

### 3.1 缓慢变化维

### 3.2 快照维表

### 3.3 极限存储

### 3.4 微型维度

## 4. 特殊维度

### 4.1 递归层次

### 4.2 行为维度-->

## Reference

- [大数据 | 大神教学，10分钟学会数据仓库建设！](https://www.shangyexinzhi.com/article/157255.html)
- [数据仓库资料](https://blog.csdn.net/u013412535/article/details/45439929)
